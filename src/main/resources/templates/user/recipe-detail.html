<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <title>Chi ti·∫øt c√¥ng th·ª©c</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body { background: #f5f5f7; font-family: system-ui, sans-serif; }

    .detail-card {
        border-radius: 18px;
        background: white;
        box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        overflow: hidden;
    }

    .detail-img {
        height: 320px;
        width: 100%;
        object-fit: cover;
    }

    .category-pill {
        position: absolute;
        top: 15px;
        right: 15px;
        padding: 6px 14px;
        border-radius: 999px;
        color: white;
        font-size: 13px;
        font-weight: 600;
    }
  </style>
</head>

<body class="p-3">

<!-- üîô N√öT QUAY L·∫†I -->
<a th:if="${isCommunity != null and isCommunity}"
   href="/app/community"
   class="btn btn-secondary mb-3">‚Üê Quay l·∫°i c·ªông ƒë·ªìng</a>

<a th:if="${isCommunity == null or !isCommunity}"
   href="/app/home"
   class="btn btn-secondary mb-3">‚Üê Quay l·∫°i</a>



<div class="container">
  <div class="detail-card">

    <div class="position-relative">
      <img th:src="${recipe.imageUrl}" class="detail-img">

      <span class="category-pill"
            th:style="'background:' + ${recipe.userCategory.colorCode}">
                <span th:text="${recipe.userCategory.icon}"></span>
                <span th:text="${recipe.userCategory.name}"></span>
            </span>
    </div>

    <div class="p-4">

      <h2 class="fw-bold mb-2" th:text="${recipe.title}"></h2>

      <div class="mb-2">
        <strong>Calories:</strong>
        <span th:text="${recipe.calories}"></span> calo
      </div>

      <div class="mb-3">
        <strong>Th·ªùi gian:</strong>
        <span th:text="${recipe.cookingTime}"></span> ph√∫t
      </div>

      <hr>

      <h5>Nguy√™n li·ªáu</h5>
      <p th:text="${recipe.ingredients}"></p>

      <h5>H∆∞·ªõng d·∫´n</h5>
      <p th:text="${recipe.instructions}"></p>

      <hr>

      <!-- üî• CH·ªà CH·ª¶ C√îNG TH·ª®C TH·∫§Y N√öT -->
      <div th:if="${isOwner != null and isOwner}" class="mt-3">

        <a th:href="@{'/app/recipes/' + ${recipe.id} + '/edit'}"
           class="btn btn-warning">‚úè S·ª≠a</a>

        <form th:action="@{'/app/recipes/' + ${recipe.id} + '/delete'}"
              method="post" style="display:inline">
          <button class="btn btn-danger">üóë X√≥a</button>
        </form>

        <form th:action="@{'/app/recipes/' + ${recipe.id} + '/share'}"
              method="post" style="display:inline">
          <button class="btn btn-info"
                  onclick="return confirm('B·∫°n ch·∫Øc ch·∫Øn mu·ªën chia s·∫ª c√¥ng th·ª©c n√†y ch·ª©?')">
            üîó Chia s·∫ª
          </button>
        </form>

      </div>

    </div>
  </div>
</div>

</body>
</html>
